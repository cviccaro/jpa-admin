{"version":3,"sources":["shared/components/context-menu/context-menu.ts"],"names":[],"mappings":";;;;;;;;;;AAAA,qBAAuI,eAAe,CAAC,CAAA;AAEvJ,2BAAqC,cAAc,CAAC,CAAA;AAGpD;IAIC,wBAAoB,GAAsB;QAAtB,QAAG,GAAH,GAAG,CAAmB;IAAI,CAAC;IAE/C,qCAAY,GAAZ,UAAa,EAAoB;QAChC,IAAI,CAAC,aAAa,GAAG,EAAE,CAAC;IACzB,CAAC;IAED,wCAAe,GAAf;QAAA,iBASC;QAPA,IAAI,CAAC,GAAG,CAAC,gBAAgB,CAAC,iCAAoB,CAAC,CAAC,IAAI,CAAC,UAAC,UAAiC;YACtF,IAAI,QAAQ,GAAG,KAAI,CAAC,aAAa,CAAC,cAAc,CAAC;YACjD,MAAM,CAAC,KAAI,CAAC,aAAa,CAAC,eAAe,CAAC,UAAU,EAAE,KAAI,CAAC,aAAa,CAAC,MAAM,EAAE,QAAQ,CAAC,CAAA;QAC3F,CAAC,CAAC,CAAC,IAAI,CAAC,UAAC,MAAyB;YACjC,KAAI,CAAC,OAAO,GAAG,MAAM,CAAC;YACtB,QAAQ,CAAC,IAAI,CAAC,WAAW,CAAC,MAAM,CAAC,QAAQ,CAAC,aAAa,CAAC,CAAC;QAC1D,CAAC,CAAC,CAAC;IACJ,CAAC;IAED,oCAAW,GAAX;QAAA,iBAMC;QALA,EAAE,CAAC,CAAC,OAAO,IAAI,CAAC,OAAO,CAAC,QAAQ,CAAC,UAAU,KAAK,UAAU,CAAC,CAAC,CAAC;YAC3D,IAAI,CAAC,OAAO,CAAC,QAAQ,CAAC,UAAU,EAAE,CAAC,IAAI,CAAG,cAAM,OAAA,KAAI,CAAC,OAAO,CAAC,OAAO,EAAE,EAAtB,CAAsB,CAAE,CAAC;QAC3E,CAAC;QAAC,IAAI,CAAC,CAAC;YACN,IAAI,CAAC,OAAO,CAAC,OAAO,EAAE,CAAC;QACzB,CAAC;IACF,CAAC;IA5BF;QAAC,iBAAU,EAAE;;sBAAA;IA6Bb,qBAAC;AAAD,CA5BA,AA4BC,IAAA;AA5BY,sBAAc,iBA4B1B,CAAA","file":"shared/components/context-menu/context-menu.js","sourcesContent":["import { Injectable, ComponentResolver, ComponentFactory, ComponentRef, ViewContainerRef, provide, Injector, ReflectiveInjector } from '@angular/core';\n\nimport { ContextMenuFocusTrap } from './focus-trap';\n\n@Injectable()\nexport class JpaContextMenu {\n\tprivate viewContainer: ViewContainerRef;\n\tprivate _cmpRef: ComponentRef<any>;\n\n\tconstructor(private _cr: ComponentResolver) { }\n\n\tsetContainer(vc: ViewContainerRef) {\n\t\tthis.viewContainer = vc;\n\t}\n\n\tresolveBackdrop() {\n\n\t\tthis._cr.resolveComponent(ContextMenuFocusTrap).then((cmpFactory: ComponentFactory<any>) => {\n\t\t\tlet injector = this.viewContainer.parentInjector;\n\t\t\treturn this.viewContainer.createComponent(cmpFactory, this.viewContainer.length, injector)\n\t\t}).then((cmpRef: ComponentRef<any>) => {\n\t\t\tthis._cmpRef = cmpRef;\n\t\t\tdocument.body.appendChild(cmpRef.location.nativeElement);\n\t\t});\n\t}\n\n\tngOnDestroy() {\n\t\tif (typeof this._cmpRef.instance.canDestroy === 'function') {\n\t\t  this._cmpRef.instance.canDestroy().then ( () => this._cmpRef.destroy() );\n\t\t} else {\n\t\t  this._cmpRef.destroy();\n\t\t}\n\t}\n}\n"],"sourceRoot":"/source/"}