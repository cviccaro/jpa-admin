{"version":3,"sources":["shared/components/progress/progress.browserxhr.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;AAAA,qBAA2B,eAAe,CAAC,CAAA;AAC3C,qBAA2B,eAAe,CAAC,CAAA;AAE3C,sBAAgC,SAAS,CAAC,CAAA;AAG1C;IAAwC,sCAAU;IAC9C,4BAAmB,OAAwB;QACvC,iBAAO,CAAC;QADO,YAAO,GAAP,OAAO,CAAiB;QAEvC,IAAI,CAAC,KAAK,EAAE,CAAC;QACb,OAAO,CAAC,GAAG,CAAC,iCAAiC,EAAE,IAAI,CAAC,CAAC;IACzD,CAAC;IACD,kCAAK,GAAL;QAAA,iBAwBC;QAvBG,OAAO,CAAC,GAAG,CAAC,kCAAkC,EAAE,IAAI,CAAC,CAAC;QACtD,IAAI,GAAG,GAAG,gBAAK,CAAC,KAAK,WAAE,CAAC;QAExB,GAAG,CAAC,UAAU,GAAG,UAAC,KAAK;YACnB,OAAO,CAAC,GAAG,CAAC,gBAAgB,EAAE,KAAK,CAAC,CAAC;YACrC,KAAI,CAAC,OAAO,CAAC,MAAM,CAAC,KAAK,CAAC,CAAC;QAC/B,CAAC,CAAC;QAEF,GAAG,CAAC,kBAAkB,GAAG;YACrB,OAAO,CAAC,GAAG,CAAC,wBAAwB,EAAE;gBAClC,UAAU,EAAE,GAAG,CAAC,UAAU;gBAC1B,MAAM,EAAE,GAAG,CAAC,MAAM;gBAClB,QAAQ,EAAE,GAAG,CAAC,QAAQ;aACzB,CAAC,CAAC;YACH,EAAE,CAAC,CAAC,GAAG,CAAC,UAAU,KAAK,CAAC,CAAC,CAAC,CAAC;gBACvB,EAAE,CAAC,CAAC,GAAG,CAAC,MAAM,KAAK,GAAG,CAAC,CAAC,CAAC;oBAErB,KAAI,CAAC,OAAO,CAAC,QAAQ,CAAC,GAAG,CAAC,QAAQ,CAAC,CAAC;gBACxC,CAAC;gBAAC,IAAI,CAAC,CAAC;oBACJ,KAAI,CAAC,OAAO,CAAC,KAAK,CAAC,GAAG,CAAC,QAAQ,CAAC,CAAC;gBACrC,CAAC;YACL,CAAC;QACL,CAAC,CAAC;IACN,CAAC;IA/BL;QAAC,iBAAU,EAAE;;0BAAA;IAgCb,yBAAC;AAAD,CA/BA,AA+BC,CA/BuC,iBAAU,GA+BjD;AA/BY,0BAAkB,qBA+B9B,CAAA","file":"shared/components/progress/progress.browserxhr.js","sourcesContent":["import { Injectable } from '@angular/core';\nimport { BrowserXhr } from '@angular/http';\n\nimport { ProgressService } from './index';\n\n@Injectable()\nexport class ProgressBrowserXhr extends BrowserXhr {\n    constructor(public service: ProgressService) {\n        super();\n        this.build();\n        console.log('ProgressBrowserXhr constructed.', this);\n    }\n    build(): any {\n        console.log('ProgressBrowserXhr build called ', this);\n        let xhr = super.build();\n\n        xhr.onprogress = (event) => {\n            console.log('xhr.onprogress', event);\n            this.service.update(event);\n        };\n\n        xhr.onreadystatechange = () => {\n            console.log('xhr.onreadystatechange', {\n                readyState: xhr.readyState,\n                status: xhr.status,\n                response: xhr.response\n            });\n            if (xhr.readyState === 4) {\n                if (xhr.status === 200) {\n                    //observer.next(JSON.parse(xhr.response));\n                    this.service.complete(xhr.response);\n                } else {\n                    this.service.error(xhr.response);\n                }\n            }\n        };\n    }\n}"],"sourceRoot":"/source/"}