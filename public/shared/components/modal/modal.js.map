{"version":3,"sources":["shared/components/modal/modal.ts"],"names":[],"mappings":";;;;;;;;;;AAAA,qBAAiF,eAAe,CAAC,CAAA;AACjG,kCAAqC,8BAA8B,CAAC,CAAA;AACpE,uBAAwD,iBAAiB,CAAC,CAAA;AAC1E,mBAA2B,SAAS,CAAC,CAAA;AACrC,gCAAqE,mBAAmB,CAAC,CAAA;AASzF;IAAA;QACY,mBAAc,GAA8B,IAAI,mBAAY,EAAe,CAAC;QAE5E,WAAM,GAAiC,EAAE,CAAC;IA0CtD,CAAC;IAtCqB,sBAAI,oCAAQ;aAAZ;YACd,MAAM,CAAC,IAAI,CAAC,cAAc,CAAC,YAAY,EAAE,CAAC;QAC9C,CAAC;;;OAAA;IAED,+BAAM,GAAN,UAAO,IAAI,EAAE,MAAM,EAAE,KAAK;QACtB,KAAK,CAAC,cAAc,EAAE,CAAC;QACvB,KAAK,CAAC,eAAe,EAAE,CAAC;QAExB,IAAI,CAAC,cAAc,CAAC,IAAI,CAAC,EAAE,IAAI,EAAE,IAAI,EAAE,MAAM,EAAE,MAAM,EAAE,KAAK,EAAE,KAAK,EAAE,CAAC,CAAC;IAC3E,CAAC;IAED,wCAAe,GAAf;QACI,IAAI,CAAC,cAAc,CAAC,IAAI,CAAC,EAAE,IAAI,EAAE,QAAQ,EAAE,MAAM,EAAE,IAAI,CAAC,MAAM,EAAE,KAAK,EAAE,IAAI,EAAE,CAAC,CAAC;IACnF,CAAC;IAED,qCAAY,GAAZ,UAAa,GAAmB,EAAE,CAAQ;QACtC,EAAE,CAAC,CAAC,GAAG,CAAC,IAAI,KAAK,MAAM,CAAC,CAAC,CAAC;YACtB,GAAG,CAAC,KAAK,GAAG,CAAC,CAAC,MAAM,CAAC,OAAO,CAAC,CAAC;QAClC,CAAC;QAED,IAAI,MAAM,GAAqB,IAAI,CAAC,MAAM,CAAC,MAAM,CAAC;QAElD,IAAI,CAAC,MAAM,CAAC,MAAM,CAAC,OAAO,CAAC,UAAA,GAAG,IAAuB,GAAI,CAAC,kBAAkB,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;IAC7F,CAAC;IAED,oCAAW,GAAX,UAAY,OAAsB;QAC9B,EAAE,CAAC,CAAC,OAAO,CAAC,cAAc,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC;YACnC,IAAI,YAAY,GAAgB,OAAO,CAAC,QAAQ,CAAC,CAAC,YAAY,CAAC;YAE/D,EAAE,CAAC,CAAC,YAAY,CAAC,CAAC,CAAC;gBACf,MAAM,CAAC,CAAC,YAAY,CAAC,IAAI,CAAC,CAAC,CAAC;oBACxB,KAAK,MAAM;wBACP,IAAI,CAAC,MAAM,CAAC,MAAM,GAAG,IAAI,CAAC,MAAM,CAAC,MAAM,CAAC,GAAG,CAAC,UAAA,KAAK,IAAI,OAAA,IAAI,gCAAc,CAAC,KAAK,CAAC,EAAzB,CAAyB,CAAC,CAAC;wBAChF,KAAK,CAAC;gBACd,CAAC;YACL,CAAC;QACL,CAAC;IACL,CAAC;IAvCD;QAAC,YAAK,EAAE;;kDAAA;IAER;QAAC,aAAM,CAAC,QAAQ,CAAC;;kDAAA;IAdrB;QAAC,gBAAS,CAAC;YACP,QAAQ,EAAE,MAAM,CAAC,EAAE;YACnB,QAAQ,EAAE,WAAW;YACrB,WAAW,EAAE,cAAc;YAC3B,SAAS,EAAE,CAAC,aAAa,CAAC;YAC1B,UAAU,EAAE,CAAC,uCAAmB,EAAE,iBAAQ,EAAE,qBAAY,EAAE,wBAAe,CAAC;SAC7E,CAAC;;sBAAA;IA8CF,qBAAC;AAAD,CA7CA,AA6CC,IAAA;AA7CY,sBAAc,iBA6C1B,CAAA","file":"shared/components/modal/modal.js","sourcesContent":["import { Component, Input, Output, EventEmitter, SimpleChanges, OnChanges } from '@angular/core';\nimport { MATERIAL_DIRECTIVES }  from '../../libs/angular2-material';\nimport { NgSwitch, NgSwitchCase, NgSwitchDefault } from '@angular/common';\nimport { Observable } from 'rxjs/Rx';\nimport { ModalConfig, ModalInput, ModalFormField, ModalAction } from './modal.interface';\n\n@Component({\n    moduleId: module.id,\n    selector: 'jpa-modal',\n    templateUrl: './modal.html',\n    styleUrls: ['./modal.css'],\n    directives: [MATERIAL_DIRECTIVES, NgSwitch, NgSwitchCase, NgSwitchDefault]\n})\nexport class ModalComponent implements OnChanges {\n    private _actionEmitter: EventEmitter<ModalAction> = new EventEmitter<ModalAction>();\n\n    private _files: { [key: string] : FileList } = {};\n\n    @Input() config: ModalConfig;\n\n    @Output('action') get onAction(): Observable<ModalAction> {\n        return this._actionEmitter.asObservable();\n    }\n\n    action(type, config, event) {\n        event.preventDefault();\n        event.stopPropagation();\n\n        this._actionEmitter.emit({ type: type, config: config, event: event });\n    }\n\n    modalFormSubmit() {\n        this._actionEmitter.emit({ type: 'submit', config: this.config, event: null });\n    }\n\n    handleChange(col: ModalFormField, e: Event) {\n        if (col.type === 'file') {\n            col.value = e.target['files'];\n        }\n\n        let inputs = <ModalFormField[]>this.config.inputs;\n\n        this.config.inputs.forEach(col => { (<ModalFormField>col).evaluateConditions(inputs); });\n    }\n\n    ngOnChanges(changes: SimpleChanges) {\n        if (changes.hasOwnProperty('config')) {\n            let currentValue: ModalConfig = changes['config'].currentValue;\n\n            if (currentValue) {\n                switch (currentValue.mode) {\n                    case \"form\":\n                        this.config.inputs = this.config.inputs.map(input => new ModalFormField(input));\n                        break;\n                }\n            }\n        }\n    }\n}\n"],"sourceRoot":"/source/"}