{"version":3,"sources":["shared/components/modal/modal.ts"],"names":[],"mappings":";;;;;;;;;;AAAA,qBAAgG,eAAe,CAAC,CAAA;AAChH,kCAAqC,8BAA8B,CAAC,CAAA;AACpE,uBAAwD,iBAAiB,CAAC,CAAA;AAC1E,mBAA2B,SAAS,CAAC,CAAA;AACrC,gCAAsE,mBAAmB,CAAC,CAAA;AAS1F;IAAA;QACY,mBAAc,GAA8B,IAAI,mBAAY,EAAe,CAAC;QAE5E,WAAM,GAAiC,EAAE,CAAC;IAyCtD,CAAC;IArCqB,sBAAI,oCAAQ;aAAZ;YACd,MAAM,CAAC,IAAI,CAAC,cAAc,CAAC,YAAY,EAAE,CAAC;QAC9C,CAAC;;;OAAA;IAED,wCAAe,GAAf;QACI,OAAO,CAAC,GAAG,CAAC,kCAAkC,EAAE,IAAI,CAAC,CAAC;IAC1D,CAAC;IAED,+BAAM,GAAN,UAAO,IAAI,EAAE,MAAM,EAAE,KAAK;QACtB,OAAO,CAAC,GAAG,CAAC,IAAI,GAAG,kBAAkB,EAAE,KAAK,CAAC,CAAC;QAC9C,KAAK,CAAC,cAAc,EAAE,CAAC;QACvB,KAAK,CAAC,eAAe,EAAE,CAAC;QAExB,IAAI,CAAC,cAAc,CAAC,IAAI,CAAC,EAAE,IAAI,EAAE,IAAI,EAAE,MAAM,EAAE,MAAM,EAAE,KAAK,EAAE,KAAK,EAAE,CAAC,CAAC;IAC3E,CAAC;IAED,wCAAe,GAAf;QACI,IAAI,CAAC,cAAc,CAAC,IAAI,CAAC,EAAE,IAAI,EAAE,QAAQ,EAAE,MAAM,EAAE,IAAI,CAAC,MAAM,EAAE,KAAK,EAAE,IAAI,EAAE,CAAC,CAAC;IACnF,CAAC;IAED,qCAAY,GAAZ,UAAa,GAAoB,EAAE,CAAQ;QACvC,GAAG,CAAC,KAAK,GAAG,CAAC,CAAC,MAAM,CAAC,OAAO,CAAC,CAAC;IAClC,CAAC;IAED,oCAAW,GAAX,UAAY,OAAsB;QAC9B,EAAE,CAAC,CAAC,OAAO,CAAC,cAAc,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC;YACnC,IAAI,YAAY,GAAgB,OAAO,CAAC,QAAQ,CAAC,CAAC,YAAY,CAAC;YAE/D,EAAE,CAAC,CAAC,YAAY,CAAC,CAAC,CAAC;gBACf,MAAM,CAAC,CAAC,YAAY,CAAC,IAAI,CAAC,CAAC,CAAC;oBACxB,KAAK,MAAM;wBACP,IAAI,CAAC,MAAM,CAAC,MAAM,GAAG,IAAI,CAAC,MAAM,CAAC,MAAM,CAAC,GAAG,CAAC,UAAA,KAAK,IAAI,OAAA,IAAI,iCAAe,CAAC,KAAK,CAAC,EAA1B,CAA0B,CAAC,CAAC;wBACjF,KAAK,CAAC;gBACd,CAAC;YACL,CAAC;QACL,CAAC;IACL,CAAC;IAtCD;QAAC,YAAK,EAAE;;kDAAA;IAER;QAAC,aAAM,CAAC,QAAQ,CAAC;;kDAAA;IAdrB;QAAC,gBAAS,CAAC;YACP,QAAQ,EAAE,MAAM,CAAC,EAAE;YACnB,QAAQ,EAAE,WAAW;YACrB,WAAW,EAAE,cAAc;YAC3B,SAAS,EAAE,CAAC,aAAa,CAAC;YAC1B,UAAU,EAAE,CAAC,uCAAmB,EAAE,iBAAQ,EAAE,qBAAY,EAAE,wBAAe,CAAC;SAC7E,CAAC;;sBAAA;IA6CF,qBAAC;AAAD,CA5CA,AA4CC,IAAA;AA5CY,sBAAc,iBA4C1B,CAAA","file":"shared/components/modal/modal.js","sourcesContent":["import { Component, AfterViewInit, Input, Output, EventEmitter, SimpleChanges, OnChanges } from '@angular/core';\nimport { MATERIAL_DIRECTIVES }  from '../../libs/angular2-material';\nimport { NgSwitch, NgSwitchCase, NgSwitchDefault } from '@angular/common';\nimport { Observable } from 'rxjs/Rx';\nimport { ModalConfig, ModalInput, ModalFormColumn, ModalAction } from './modal.interface';\n\n@Component({\n    moduleId: module.id,\n    selector: 'jpa-modal',\n    templateUrl: './modal.html',\n    styleUrls: ['./modal.css'],\n    directives: [MATERIAL_DIRECTIVES, NgSwitch, NgSwitchCase, NgSwitchDefault]\n})\nexport class ModalComponent implements AfterViewInit, OnChanges {\n    private _actionEmitter: EventEmitter<ModalAction> = new EventEmitter<ModalAction>();\n\n    private _files: { [key: string] : FileList } = {};\n\n    @Input() config: ModalConfig;\n\n    @Output('action') get onAction(): Observable<ModalAction> {\n        return this._actionEmitter.asObservable();\n    }\n\n    ngAfterViewInit() {\n        console.log('ModalComponent View Initialized.', this);\n    }\n\n    action(type, config, event) {\n        console.log(type + ' button clicked.', event);\n        event.preventDefault();\n        event.stopPropagation();\n\n        this._actionEmitter.emit({ type: type, config: config, event: event });\n    }\n\n    modalFormSubmit() {\n        this._actionEmitter.emit({ type: 'submit', config: this.config, event: null });\n    }\n\n    handleChange(col: ModalFormColumn, e: Event) {\n        col.value = e.target['files'];\n    }\n\n    ngOnChanges(changes: SimpleChanges) {\n        if (changes.hasOwnProperty('config')) {\n            let currentValue: ModalConfig = changes['config'].currentValue;\n\n            if (currentValue) {\n                switch (currentValue.mode) {\n                    case \"form\":\n                        this.config.inputs = this.config.inputs.map(input => new ModalFormColumn(input));\n                        break;\n                }\n            }\n        }\n    }\n}"],"sourceRoot":"/source/"}