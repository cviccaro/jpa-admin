{"version":3,"sources":["shared/components/modal/container.ts"],"names":[],"mappings":";;;;;;;;;;AAAA,qBASO,eAAe,CAAC,CAAA;AAIvB,yBAAuC,YAAY,CAAC,CAAA;AACpD,sBAA+B,SAAS,CAAC,CAAA;AACzC,yBAAyB,YAAY,CAAC,CAAA;AAUtC;IAaI,iCAAmB,EAAc,EAAU,OAAiB,EAAU,GAAuB;QAA1E,OAAE,GAAF,EAAE,CAAY;QAAU,YAAO,GAAP,OAAO,CAAU;QAAU,QAAG,GAAH,GAAG,CAAoB;QAXrF,WAAM,GAAG,KAAK,CAAC;IAavB,CAAC;IAP2B,sBAAI,+CAAU;aAAd,cAAmB,MAAM,CAAC,IAAI,CAAC,MAAM,GAAG,IAAI,GAAG,IAAI,CAAC,CAAC,CAAC;;;OAAA;IASlF,0CAAQ,GAAR;QACI,IAAI,CAAC,mBAAmB,EAAE,CAAC;QAC3B,OAAO,CAAC,GAAG,CAAC,sCAAsC,EAAE,IAAI,CAAC,CAAC;IAC9D,CAAC;IAED,iDAAe,GAAf;QACI,OAAO,CAAC,GAAG,CAAC,0CAA0C,EAAE,IAAI,CAAC,CAAC;IAClE,CAAC;IAEO,qDAAmB,GAA3B;QAAA,iBAWC;QAVG,IAAI,CAAC,mBAAmB,GAAG,IAAI,CAAC,OAAO,CAAC,SAAS,CAAC,SAAS,CAAC,UAAC,MAAmB;YAC5E,OAAO,CAAC,GAAG,CAAC,aAAa,EAAE,MAAM,CAAC,CAAC;YACnC,KAAI,CAAC,MAAM,GAAG,MAAM,CAAC;YACrB,KAAI,CAAC,MAAM,GAAG,IAAI,CAAC;QACvB,CAAC,CAAC,CAAC;QACH,IAAI,CAAC,gBAAgB,GAAG,IAAI,CAAC,KAAK,CAAC,QAAQ,CAAC,SAAS,CAAC,UAAC,CAAC;YACpD,OAAO,CAAC,GAAG,CAAC,sBAAsB,EAAE,CAAC,CAAC,CAAC;YACvC,KAAI,CAAC,MAAM,GAAG,KAAK,CAAC;YACpB,KAAI,CAAC,OAAO,CAAC,aAAa,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC;QACvC,CAAC,CAAC,CAAC;IACP,CAAC;IAED,6CAAW,GAAX;QACI,EAAE,CAAC,CAAC,IAAI,CAAC,mBAAmB,CAAC;YAAC,IAAI,CAAC,mBAAmB,CAAC,WAAW,EAAE,CAAC;QACrE,EAAE,CAAC,CAAC,IAAI,CAAC,iBAAiB,CAAC;YAAC,IAAI,CAAC,iBAAiB,CAAC,WAAW,EAAE,CAAC;IACrE,CAAC;IAlCD;QAAC,kBAAW,CAAC,aAAa,CAAC;;6DAAA;IAE3B;QAAC,gBAAS,CAAC,UAAU,CAAC;;6DAAA;IACtB;QAAC,gBAAS,CAAC,OAAO,CAAC;;0DAAA;IAlBvB;QAAC,gBAAS,CAAC;YACP,QAAQ,EAAE,MAAM,CAAC,EAAE;YACnB,QAAQ,EAAE,qBAAqB;YAC/B,QAAQ,EAAE,+HAA+H;YACzI,SAAS,EAAE,CAAC,iBAAiB,CAAC;YAC9B,UAAU,EAAE,CAAE,iCAAsB,EAAE,sBAAc,CAAE;SACzD,CAAC;;+BAAA;IA4CF,8BAAC;AAAD,CA3CA,AA2CC,IAAA;AA3CY,+BAAuB,0BA2CnC,CAAA","file":"shared/components/modal/container.js","sourcesContent":["import {\r\n    Component,\r\n    ElementRef,\r\n    ViewChild,\r\n    AfterViewInit,\r\n    ChangeDetectorRef,\r\n    OnInit,\r\n    OnDestroy,\r\n    HostBinding\r\n} from '@angular/core';\r\n\r\nimport { Subscription } from 'rxjs/Rx';\r\n\r\nimport { ModalBackdropComponent } from './backdrop';\r\nimport { ModalComponent } from './modal';\r\nimport { JpaModal } from './provider';\r\nimport { ModalConfig } from './modal.interface';\r\n\r\n@Component({\r\n    moduleId: module.id,\r\n    selector: 'jpa-modal-container',\r\n    template: '<jpa-modal class=\"jpa-modal-wrapper\" #modal [config]=\"config\"></jpa-modal><jpa-modal-backdrop #backdrop></jpa-modal-backdrop>',\r\n    styleUrls: ['./container.css'],\r\n    directives: [ ModalBackdropComponent, ModalComponent ]\r\n})\r\nexport class ModalContainerComponent implements OnInit, OnDestroy {\r\n    public config: ModalConfig;\r\n    private opened = false;\r\n\r\n    private openModalSubscriber: Subscription;\r\n    private actionSubscriber: Subscription;\r\n    private okModalSubscriber: Subscription;\r\n\r\n    @HostBinding('attr.hidden') get hiddenAttr() { return this.opened ? null : true; }\r\n\r\n    @ViewChild('backdrop') private backdrop: ModalBackdropComponent;\r\n    @ViewChild('modal') private modal: ModalComponent;\r\n\r\n    constructor(public el: ElementRef, private service: JpaModal, private ref : ChangeDetectorRef) {\r\n\r\n    }\r\n\r\n    ngOnInit() {\r\n        this.registerSubscribers();\r\n        console.log('ModalContainerComponent initialized.', this);\r\n    }\r\n\r\n    ngAfterViewInit() {\r\n        console.log('ModalContainerComponent View Initialized', this);\r\n    }\r\n\r\n    private registerSubscribers() {\r\n        this.openModalSubscriber = this.service.openModal.subscribe((config: ModalConfig) => {\r\n            console.log('open modal!', config);\r\n            this.config = config;\r\n            this.opened = true;\r\n        });\r\n        this.actionSubscriber = this.modal.onAction.subscribe((e) => {\r\n            console.log('modal button clicked', e);\r\n            this.opened = false;\r\n            this.service.buttonClicked.next(e);\r\n        });\r\n    }\r\n\r\n    ngOnDestroy() {\r\n        if (this.openModalSubscriber) this.openModalSubscriber.unsubscribe();\r\n        if (this.okModalSubscriber) this.okModalSubscriber.unsubscribe();\r\n    }\r\n}\r\n"],"sourceRoot":"/source/"}