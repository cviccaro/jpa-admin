{"version":3,"sources":["shared/components/modal/container.ts"],"names":[],"mappings":";;;;;;;;;;AAAA,qBAQO,eAAe,CAAC,CAAA;AAIvB,yBAAuC,YAAY,CAAC,CAAA;AACpD,sBAA+B,SAAS,CAAC,CAAA;AACzC,yBAAyB,YAAY,CAAC,CAAA;AAUtC;IAuBI,iCAAmB,EAAc,EAAU,OAAiB,EAAU,GAAuB;QAA1E,OAAE,GAAF,EAAE,CAAY;QAAU,YAAO,GAAP,OAAO,CAAU;QAAU,QAAG,GAAH,GAAG,CAAoB;QApBrF,WAAM,GAAG,KAAK,CAAC;IAsBvB,CAAC;IAhBD,sBAAW,8CAAS;aAApB;YACI,IAAI,EAAE,GAAG,mBAAmB,CAAC;YAC7B,EAAE,CAAC,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC,CAAC;gBACd,EAAE,IAAI,GAAG,GAAG,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC;YACjC,CAAC;YAED,MAAM,CAAC,EAAE,CAAC;QACd,CAAC;;;OAAA;IAE2B,sBAAI,+CAAU;aAAd,cAAmB,MAAM,CAAC,IAAI,CAAC,MAAM,GAAG,IAAI,GAAG,IAAI,CAAC,CAAC,CAAC;;;OAAA;IASlF,0CAAQ,GAAR;QACI,IAAI,CAAC,mBAAmB,EAAE,CAAC;IAC/B,CAAC;IAEO,qDAAmB,GAA3B;QAAA,iBASC;QARG,IAAI,CAAC,mBAAmB,GAAG,IAAI,CAAC,OAAO,CAAC,SAAS,CAAC,SAAS,CAAC,UAAC,MAAmB;YAC5E,KAAI,CAAC,MAAM,GAAG,MAAM,CAAC;YACrB,KAAI,CAAC,MAAM,GAAG,IAAI,CAAC;QACvB,CAAC,CAAC,CAAC;QACH,IAAI,CAAC,gBAAgB,GAAG,IAAI,CAAC,KAAK,CAAC,QAAQ,CAAC,SAAS,CAAC,UAAC,CAAC;YACpD,KAAI,CAAC,MAAM,GAAG,KAAK,CAAC;YACpB,KAAI,CAAC,OAAO,CAAC,aAAa,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC;QACvC,CAAC,CAAC,CAAC;IACP,CAAC;IAED,6CAAW,GAAX;QACI,EAAE,CAAC,CAAC,IAAI,CAAC,mBAAmB,CAAC;YAAC,IAAI,CAAC,mBAAmB,CAAC,WAAW,EAAE,CAAC;QACrE,EAAE,CAAC,CAAC,IAAI,CAAC,iBAAiB,CAAC;YAAC,IAAI,CAAC,iBAAiB,CAAC,WAAW,EAAE,CAAC;IACrE,CAAC;IA3BD;QAAC,kBAAW,CAAC,aAAa,CAAC;;6DAAA;IAE3B;QAAC,gBAAS,CAAC,UAAU,CAAC;;6DAAA;IACtB;QAAC,gBAAS,CAAC,OAAO,CAAC;;0DAAA;IA5BvB;QAAC,gBAAS,CAAC;YACP,QAAQ,EAAE,MAAM,CAAC,EAAE;YACnB,QAAQ,EAAE,qBAAqB;YAC/B,QAAQ,EAAE,yHAAyH;YACnI,SAAS,EAAE,CAAC,iBAAiB,CAAC;YAC9B,UAAU,EAAE,CAAE,iCAAsB,EAAE,sBAAc,CAAE;SACzD,CAAC;;+BAAA;IA+CF,8BAAC;AAAD,CA9CA,AA8CC,IAAA;AA9CY,+BAAuB,0BA8CnC,CAAA","file":"shared/components/modal/container.js","sourcesContent":["import {\r\n    Component,\r\n    ElementRef,\r\n    ViewChild,\r\n    ChangeDetectorRef,\r\n    OnInit,\r\n    OnDestroy,\r\n    HostBinding\r\n} from '@angular/core';\r\n\r\nimport { Subscription } from 'rxjs/Rx';\r\n\r\nimport { ModalBackdropComponent } from './backdrop';\r\nimport { ModalComponent } from './modal';\r\nimport { JpaModal } from './provider';\r\nimport { ModalConfig } from './modal.interface';\r\n\r\n@Component({\r\n    moduleId: module.id,\r\n    selector: 'jpa-modal-container',\r\n    template: '<jpa-modal #modal [config]=\"config\" [class]=\"classList\"></jpa-modal><jpa-modal-backdrop #backdrop></jpa-modal-backdrop>',\r\n    styleUrls: ['./container.css'],\r\n    directives: [ ModalBackdropComponent, ModalComponent ]\r\n})\r\nexport class ModalContainerComponent implements OnInit, OnDestroy {\r\n\r\n    public config: ModalConfig;\r\n    private opened = false;\r\n\r\n    private openModalSubscriber: Subscription;\r\n    private actionSubscriber: Subscription;\r\n    private okModalSubscriber: Subscription;\r\n\r\n    public get classList() {\r\n        let cl = 'jpa-modal-wrapper';\r\n        if (this.config) {\r\n            cl += ' ' + this.config.mode;\r\n        }\r\n\r\n        return cl;\r\n    }\r\n\r\n    @HostBinding('attr.hidden') get hiddenAttr() { return this.opened ? null : true; }\r\n\r\n    @ViewChild('backdrop') private backdrop: ModalBackdropComponent;\r\n    @ViewChild('modal') private modal: ModalComponent;\r\n\r\n    constructor(public el: ElementRef, private service: JpaModal, private ref : ChangeDetectorRef) {\r\n\r\n    }\r\n\r\n    ngOnInit() {\r\n        this.registerSubscribers();\r\n    }\r\n\r\n    private registerSubscribers() {\r\n        this.openModalSubscriber = this.service.openModal.subscribe((config: ModalConfig) => {\r\n            this.config = config;\r\n            this.opened = true;\r\n        });\r\n        this.actionSubscriber = this.modal.onAction.subscribe((e) => {\r\n            this.opened = false;\r\n            this.service.buttonClicked.next(e);\r\n        });\r\n    }\r\n\r\n    ngOnDestroy() {\r\n        if (this.openModalSubscriber) this.openModalSubscriber.unsubscribe();\r\n        if (this.okModalSubscriber) this.okModalSubscriber.unsubscribe();\r\n    }\r\n}\r\n"],"sourceRoot":"/source/"}