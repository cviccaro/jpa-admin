{"version":3,"sources":["shared/components/file-upload/file-card/file-card.component.ts"],"names":[],"mappings":"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","file":"shared/components/file-upload/file-card/file-card.component.js","sourcesContent":["import {\n    Component,\n    Directive,\n    Input,\n    OnInit,\n    AfterViewInit,\n    ViewChild,\n    ElementRef,\n    EventEmitter,\n    Output,\n    HostBinding,\n    HostListener,\n    OnDestroy\n} from '@angular/core';\nimport { Subscription } from 'rxjs/Rx';\nimport { FromUnixPipe, DateFormatPipe } from 'angular2-moment';\nimport { MATERIAL_DIRECTIVES } from '../../../libs/angular2-material';\nimport { ManagedFile, ManagedImage } from '../../../models/jp-file';\nimport { FileIconComponent } from '../file-icon/index';\n\n@Directive({\n    selector: '[jpa-action-delegate]',\n})\nexport class ActionDelegate {\n    constructor(public el: ElementRef) { }\n\n    @Output() clicked = new EventEmitter();\n    @Output() hover = new EventEmitter();\n    @Output() hoverOut = new EventEmitter();\n\n    @HostListener('click')\n    onClick(e: Event) {\n        this.clicked.emit(e);\n    }\n    @HostListener('mouseenter')\n    onMouseEnter(e: Event) {\n        this.hover.emit(e);\n    }\n\n    @HostListener('mouseleave')\n    onMouseLeaver(e: Event) {\n        this.hoverOut.emit(e);\n    }\n}\n\n@Component({\n    moduleId: module.id,\n    selector: 'jpa-file-card',\n    templateUrl: './file-card.component.html',\n    styleUrls: [ './file-card.component.css' ],\n    directives: [ MATERIAL_DIRECTIVES, FileIconComponent, ActionDelegate ],\n    pipes: [ DateFormatPipe ]\n})\nexport class FileCardComponent implements OnInit, AfterViewInit, OnDestroy {\n    public hovering = false;\n\n    private hoverSub: Subscription;\n    private hoverOutSub: Subscription;\n\n    @Input() file: ManagedFile|ManagedImage\n    @Input() actions: boolean = true;\n\n    @Output() clickedRemove = new EventEmitter();\n\n    @ViewChild(ActionDelegate) actionDelegate : ActionDelegate;\n\n    @HostBinding('class.actions-hovering') get actionsHoveringClass() { return this.hovering; }\n\n    remove(e: Event) {\n        this.clickedRemove.emit(e);\n    }\n\n    ngOnInit() {\n        // if ( !(this.file instanceof ManagedFile) && !(this.file instanceof ManagedImage) ) {\n\n        // }\n        console.log('FileCardComponent initialized', this);\n    }\n\n    ngAfterViewInit() {\n        console.log('FileCardComponent VIEW initialized', this);\n\n        if (this.actionDelegate) {\n            this.hoverSub = this.actionDelegate.hover.subscribe(e => this.hovering = true);\n            this.hoverOutSub = this.actionDelegate.hoverOut.subscribe(e => this.hovering = false);\n        }\n    }\n\n    ngOnDestroy() {\n        if (this.hoverSub) this.hoverSub.unsubscribe();\n        if (this.hoverOutSub) this.hoverOutSub.unsubscribe();\n    }\n}\n"],"sourceRoot":"/source/"}