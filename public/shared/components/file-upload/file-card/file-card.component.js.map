{"version":3,"sources":["shared/components/file-upload/file-card/file-card.component.ts"],"names":[],"mappings":"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","file":"shared/components/file-upload/file-card/file-card.component.js","sourcesContent":["import {\r\n    Component,\r\n    Directive,\r\n    Input,\r\n    OnInit,\r\n    AfterViewInit,\r\n    ViewChild,\r\n    ElementRef,\r\n    EventEmitter,\r\n    Output,\r\n    HostBinding,\r\n    HostListener,\r\n    OnDestroy\r\n} from '@angular/core';\r\nimport { Subscription } from 'rxjs/Rx';\r\nimport { FromUnixPipe, DateFormatPipe } from 'angular2-moment';\r\nimport { MATERIAL_DIRECTIVES } from '../../../libs/angular2-material';\r\nimport { ManagedFile, ManagedImage } from '../../../models/jp-file';\r\nimport { FileIconComponent } from '../file-icon/index';\r\n\r\n@Directive({\r\n    selector: '[jpa-action-delegate]',\r\n})\r\nexport class ActionDelegate {\r\n    constructor(public el: ElementRef) { }\r\n\r\n    @Output() clicked = new EventEmitter();\r\n    @Output() hover = new EventEmitter();\r\n    @Output() hoverOut = new EventEmitter();\r\n\r\n    @HostListener('click')\r\n    onClick(e: Event) {\r\n        this.clicked.emit(e);\r\n    }\r\n    @HostListener('mouseenter')\r\n    onMouseEnter(e: Event) {\r\n        this.hover.emit(e);\r\n    }\r\n\r\n    @HostListener('mouseleave')\r\n    onMouseLeaver(e: Event) {\r\n        this.hoverOut.emit(e);\r\n    }\r\n}\r\n\r\n@Component({\r\n    moduleId: module.id,\r\n    selector: 'jpa-file-card',\r\n    templateUrl: './file-card.component.html',\r\n    styleUrls: [ './file-card.component.css' ],\r\n    directives: [ MATERIAL_DIRECTIVES, FileIconComponent, ActionDelegate ],\r\n    pipes: [ DateFormatPipe ]\r\n})\r\nexport class FileCardComponent implements OnInit, AfterViewInit, OnDestroy {\r\n    public hovering = false;\r\n\r\n    private hoverSub: Subscription;\r\n    private hoverOutSub: Subscription;\r\n\r\n    @Input() file: ManagedFile|ManagedImage\r\n    @Input() actions: boolean = true;\r\n\r\n    @Output() clickedRemove = new EventEmitter();\r\n\r\n    @ViewChild(ActionDelegate) actionDelegate : ActionDelegate;\r\n\r\n    @HostBinding('class.actions-hovering') get actionsHoveringClass() { return this.hovering; }\r\n\r\n    remove(e: Event) {\r\n        this.clickedRemove.emit(e);\r\n    }\r\n\r\n    ngOnInit() {\r\n        // if ( !(this.file instanceof ManagedFile) && !(this.file instanceof ManagedImage) ) {\r\n\r\n        // }\r\n        console.log('FileCardComponent initialized', this);\r\n    }\r\n\r\n    ngAfterViewInit() {\r\n        console.log('FileCardComponent VIEW initialized', this);\r\n\r\n        if (this.actionDelegate) {\r\n            this.hoverSub = this.actionDelegate.hover.subscribe(e => this.hovering = true);\r\n            this.hoverOutSub = this.actionDelegate.hoverOut.subscribe(e => this.hovering = false);\r\n        }\r\n    }\r\n\r\n    ngOnDestroy() {\r\n        if (this.hoverSub) this.hoverSub.unsubscribe();\r\n        if (this.hoverOutSub) this.hoverOutSub.unsubscribe();\r\n    }\r\n}\r\n"],"sourceRoot":"/source/"}