{"version":3,"sources":["shared/components/file-upload/grid-image/grid-image.ts"],"names":[],"mappings":";;;;;;;;;;AAAA,qBAA6F,eAAe,CAAC,CAAA;AAQ7G;IAAA;QAgBc,gBAAW,GAAG,IAAI,mBAAY,EAAE,CAAC;IAkC/C,CAAC;IA9BG,4BAAQ,GAAR;QAAA,iBAKC;QAJsB,IAAI,CAAC,QAAQ,CAAC,aAAc,CAAC,gBAAgB,CAAC,MAAM,EAAE,UAAA,CAAC;YACtE,OAAO,CAAC,GAAG,CAAC,mBAAmB,CAAC,CAAC;YACjC,KAAI,CAAC,WAAW,CAAC,IAAI,CAAC,EAAC,KAAK,EAAE,CAAC,EAAE,MAAM,EAAE,KAAI,CAAC,WAAW,EAAC,CAAC,CAAC;QAChE,CAAC,CAAC,CAAC;IACP,CAAC;IAjBD;QAAC,YAAK,EAAE;;kDAAA;IAQR;QAAC,aAAM,EAAE;;kDAAA;IAET;QAAC,gBAAS,CAAC,OAAO,CAAC;;+CAAA;IAxBvB;QAAC,gBAAS,CAAC;YACP,QAAQ,EAAE,MAAM,CAAC,EAAE;YACnB,QAAQ,EAAE,gBAAgB;YAC1B,QAAQ,EAAE,qJAAqJ;YAC/J,SAAS,EAAE,CAAC,kBAAkB,CAAC;SAClC,CAAC;;iBAAA;IAmDF,gBAAC;AAAD,CAlDA,AAkDC,IAAA;AAlDY,iBAAS,YAkDrB,CAAA","file":"shared/components/file-upload/grid-image/grid-image.js","sourcesContent":["import { Component, Input, Output, AfterViewInit, ViewChild, ElementRef, EventEmitter } from '@angular/core';\r\n\r\n@Component({\r\n    moduleId: module.id,\r\n    selector: 'jpa-grid-image',\r\n    template: '<img #image class=\"grid-image\" [src]=\"imageConfig.image_url\" [alt]=\"imageConfig.alt\" [title]=\"imageConfig.title\" [class.new]=\"imageConfig.isNew\" />',\r\n    styleUrls: ['./grid-image.css']\r\n})\r\nexport class GridImage {\r\n    // @Input() progress: any;\r\n    // @Input() imageId: any;\r\n    // @Input() src: any;\r\n    // @Input() imageData: any;\r\n    // @Input() alt: any;\r\n    // @Input() title: any;\r\n\r\n    @Input() imageConfig: {\r\n        id?: any,\r\n        isNew?: boolean,\r\n        alt?: string,\r\n        title?: string,\r\n        image_url: string\r\n    }\r\n\r\n    @Output() imageLoaded = new EventEmitter();\r\n\r\n    @ViewChild('image') public _imageEl: ElementRef;\r\n\r\n    ngOnInit() {\r\n        (<HTMLImageElement>this._imageEl.nativeElement).addEventListener('load', e => {\r\n            console.log('GridImage Loaded.');\r\n            this.imageLoaded.emit({event: e, config: this.imageConfig});\r\n        });\r\n    }\r\n    // ngAfterViewInit() {\r\n    //     console.info('GridImage# AfterViewInit', this);\r\n\r\n    //     let xhr = new XMLHttpRequest();\r\n\r\n    //     xhr.addEventListener('progress', e => {\r\n    //         let pct = e.loaded / e.total;\r\n\r\n    //         console.log(`Progress!! Loaded: ${e.loaded} Total: ${e.total} Pct: ${pct}`);\r\n    //     });\r\n    //     xhr.addEventListener('load', e => {\r\n    //         console.log('Load!', e);\r\n    //     });\r\n    //     xhr.addEventListener('abort', e => {\r\n    //         console.warn('ImageAbort!', e);\r\n    //     });\r\n    //     xhr.addEventListener('error', e => {\r\n    //         console.error('ImageError!', e);\r\n    //     });\r\n\r\n    //     xhr.open('GET', this.url, true);\r\n    //     xhr.overrideMimeType('text/plain; charset=x-user-defined');\r\n    //     xhr.send(null);\r\n    // }\r\n}\r\n"],"sourceRoot":"/source/"}