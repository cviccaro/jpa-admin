{"version":3,"sources":["@work/work-list.component.ts"],"names":[],"mappings":"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","file":"@work/work-list.component.js","sourcesContent":["import {Component, OnInit} from '@angular/core';\nimport {Router} from '@angular/router';\n\nimport {Work, WorkService, ListComponent, ListConfig} from '../shared/index';\n\n/**\n * This class represents the lazy loaded BlogsComponent.\n */\n@Component({\n    moduleId: module.id,\n    selector: 'jpa-work-list',\n    templateUrl: './work-list.component.html',\n    styleUrls: ['./work-list.component.css'],\n    providers: [WorkService],\n    directives: [\n        ListComponent\n\t]\n})\nexport class WorkListComponent implements OnInit {\n\n    listData: any[] = [];\n    listConfig: ListConfig;\n\n\tconstructor(public workService: WorkService, public router: Router) {\n        this.listConfig = {\n            sortOptions: [\n                { name: 'Updated At', value: 'updated_at' },\n                { name: 'Created At', value: 'created_at' },\n                { name: 'Title', value: 'title' },\n                { name: 'Category', value: 'category' }\n            ],\n            perPageOptions: [5, 10, 15, 25, 50, 100],\n            sort: {\n                by: 'updated_at',\n                descending: true\n            },\n            page: {\n                currentPage: 1,\n                from: 0,\n                to: 0,\n                total: 0,\n                lastPage: 0,\n                perPage: 15\n            }\n        };\n\t}\n\n\tngOnInit() {\n        this.fetch();\n\t}\n\n    fetch(params: { page?: any, sort?: any } = {}) {\n        let page = params.page || this.listConfig.page;\n        let sort = params.sort || this.listConfig.sort;\n\n        this.workService.all({\n            current_page: page.currentPage,\n            length: page.perPage,\n            order_by: sort.by,\n            descending: sort.descending,\n        })\n        .subscribe(json => {\n            this.listData = json.data.map(work => {\n                return {\n                    id: work.id,\n                    title: work.title,\n                    subtitle: work.client.name,\n                    dates: {\n                        updated_at: work.updated_at,\n                        created_at: work.created_at\n                    }\n                };\n            });\n\n            this.listConfig.page = {\n                from: json.from,\n                to: json.to,\n                total: json.total,\n                lastPage: json.last_page,\n                currentPage: json.current_page,\n                perPage: json.per_page\n            };\n        });\n    }\n\n    edit(work: Work) {\n        console.log('ROUTE TO:', ['/work', work.id]);\n        this.router.navigate(['/work', work.id]);        \n    }\n\n    _delete(item) {\n        console.log('delete this item: ', item);\n    }\n}\n"],"sourceRoot":"/source/"}