{"version":3,"sources":["@divisions/division.component.ts"],"names":[],"mappings":"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","file":"@divisions/division.component.js","sourcesContent":["import { Component, AfterViewInit, OnInit } from '@angular/core';\r\nimport { ActivatedRoute } from '@angular/router';\r\nimport { NgSwitch, NgSwitchCase, NgSwitchDefault } from '@angular/common';\r\n\r\nimport { ToasterService } from 'angular2-toaster';\r\nimport { MATERIAL_DIRECTIVES } from '../shared/libs/angular2-material';\r\nimport { JpaCache, Division, DivisionService, PANEL_DIRECTIVES, JpFile } from '../shared/index';\r\n\r\n@Component({\r\n\tmoduleId: module.id,\r\n\tselector: 'jpa-division',\r\n\ttemplateUrl: './division.component.html',\r\n\tstyleUrls: ['./division.component.css'],\r\n\tdirectives: [\r\n\t\tPANEL_DIRECTIVES,\r\n\t\tMATERIAL_DIRECTIVES,\r\n\t\tNgSwitch,\r\n\t\tNgSwitchCase,\r\n\t\tNgSwitchDefault\r\n\t]\r\n})\r\nexport class DivisionComponent implements OnInit, AfterViewInit {\r\n\tprivate _division: Division;\r\n\tprivate _divisionImage: JpFile;\r\n\r\n\tpublic ready: boolean = false;\r\n\tpublic isNew: boolean = false;\r\n\tpublic _originalTitle: string;\r\n\r\n\tpublic submitted = false;\r\n\r\n\tget division(): Division { return this._division; }\r\n\tset division(v: Division) {\r\n\t    this._division = v;\r\n\t    if (this._division !== undefined && this._division !== null) {\r\n\t    \tthis.setup();\r\n\t    }\r\n\t}\r\n\r\n\tsetup() {\r\n\t\tthis._originalTitle = this._division.name;\r\n\t\tthis._divisionImage = this._division.image;\r\n\t\tthis._division.image = null;\r\n\t\tthis.isNew = this.division.id === undefined;\r\n\t}\r\n\r\n\tconstructor(\r\n\t\tprivate cache: JpaCache,\r\n\t\tprivate route: ActivatedRoute,\r\n\t\tprivate service: DivisionService,\r\n\t\tprivate toaster: ToasterService\r\n\t) {\r\n\t\tthis.division = this.cache.get('division');\r\n\t}\r\n\r\n\tngOnInit() {\r\n\t\tlet id = this.route.snapshot.params['id'];\r\n\r\n\t\tif (id === 'new') {\r\n\t\t    this.ready = true;\r\n\t\t    this.isNew = true;\r\n\t\t} else {\r\n\t\t    this.service.find(+id).subscribe(res => {\r\n\t\t        this.division = res;\r\n\t\t        console.debug('setting division model to ', res);\r\n\t\t        this.ready = true;\r\n\t\t    });\r\n\t\t}\r\n\t}\r\n\r\n\tngAfterViewInit() {\r\n\t\tconsole.log('Division Component View Initialized', this);\r\n\t}\r\n\r\n\tonSubmit() {\r\n\t    this.submitted = true;\r\n\t    // if (this.isNew) {\r\n\t    //     this.service.create(this.blog)\r\n\t    //         .subscribe(res => {\r\n\t    //             this.toasterService.pop('success', 'Success!', this.blog.title + ' has been created.  Redirecting to its page.');\r\n\t    //             setTimeout(() => {\r\n\t    //                 this.blog = res;\r\n\t    //                 console.log(\"Navigating to /blogs/\" + res.id);\r\n\t    //                 this.router.navigate(['/blogs', res.id]);\r\n\t    //                 this.reset();\r\n\t    //             }, 2000);\r\n\t    //         },err => {\r\n\t    //             console.log('Error when saving blog: ', err);\r\n\t    //             this.toasterService.pop('error', 'Uh oh.', 'Something went wrong when saving this blog.  Sorry.  Try again later and/or alert the developer!');\r\n\t    //         });\r\n\t    // } else {\r\n\t        this.service.update(this.division.id, this.division)\r\n\t            .subscribe(res => {\r\n\t                console.log('response from update: ', res);\r\n\t                this.division = res;\r\n\t                this.reset();\r\n\t                this.toaster.pop('success', 'Success!', this.division.name + ' has been saved.');\r\n\t            }, err => {\r\n\t                console.log('Error when saving: ', err);\r\n\t                this.toaster.pop('error', 'Uh oh.', 'Something went wrong when saving this division.  Sorry.  Try again later and/or alert the developer!');\r\n\t            });\r\n\t    // }\r\n\t}\r\n\r\n\tprivate reset(e?:Event) {\r\n\t    if (e) {\r\n\t        e.preventDefault();\r\n\t        e.stopPropagation();\r\n\t    }\r\n\r\n\t    this.ready = false;\r\n\r\n\t    setTimeout(() => { this.ready = true; },0);\r\n\t}\r\n}\r\n"],"sourceRoot":"/source/"}