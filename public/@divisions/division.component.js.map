{"version":3,"sources":["@divisions/division.component.ts"],"names":[],"mappings":"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","file":"@divisions/division.component.js","sourcesContent":["import { Component, AfterViewInit, OnInit } from '@angular/core';\nimport { ActivatedRoute } from '@angular/router';\nimport { NgSwitch, NgSwitchCase, NgSwitchDefault } from '@angular/common';\n\nimport { ToasterService } from 'angular2-toaster';\nimport { MATERIAL_DIRECTIVES } from '../shared/libs/angular2-material';\nimport { JpaCache, Division, DivisionService, JpFile } from '../shared/index';\n\n@Component({\n\tmoduleId: module.id,\n\tselector: 'jpa-division',\n\ttemplateUrl: './division.component.html',\n\tstyleUrls: ['./division.component.css'],\n\tdirectives: [\n\t\tMATERIAL_DIRECTIVES,\n\t\tNgSwitch,\n\t\tNgSwitchCase,\n\t\tNgSwitchDefault\n\t]\n})\nexport class DivisionComponent implements OnInit, AfterViewInit {\n\tprivate _division: Division;\n\tprivate _divisionImage: JpFile;\n\n\tpublic ready: boolean = false;\n\tpublic isNew: boolean = false;\n\tpublic _originalTitle: string;\n\n\tpublic submitted = false;\n\n\tget division(): Division { return this._division; }\n\tset division(v: Division) {\n\t    this._division = v;\n\t    if (this._division !== undefined && this._division !== null) {\n\t    \tthis.setup();\n\t    }\n\t}\n\n\tsetup() {\n\t\tthis._originalTitle = this._division.name;\n\t\tthis._divisionImage = this._division.image;\n\t\tthis._division.image = null;\n\t\tthis.isNew = this.division.id === undefined;\n\t}\n\n\tconstructor(\n\t\tprivate cache: JpaCache,\n\t\tprivate route: ActivatedRoute,\n\t\tprivate service: DivisionService,\n\t\tprivate toaster: ToasterService\n\t) {\n\t\tthis.division = this.cache.get('division');\n\t}\n\n\tngOnInit() {\n\t\tlet id = this.route.snapshot.params['id'];\n\n\t\tif (id === 'new') {\n\t\t    this.ready = true;\n\t\t    this.isNew = true;\n\t\t} else {\n\t\t    this.service.find(+id).subscribe(res => {\n\t\t        this.division = res;\n\t\t        console.debug('setting division model to ', res);\n\t\t        this.ready = true;\n\t\t    });\n\t\t}\n\t}\n\n\tngAfterViewInit() {\n\t\tconsole.log('Division Component View Initialized', this);\n\t}\n\n\tonSubmit() {\n\t    this.submitted = true;\n\t    // if (this.isNew) {\n\t    //     this.service.create(this.blog)\n\t    //         .subscribe(res => {\n\t    //             this.toasterService.pop('success', 'Success!', this.blog.title + ' has been created.  Redirecting to its page.');\n\t    //             setTimeout(() => {\n\t    //                 this.blog = res;\n\t    //                 console.log(\"Navigating to /blogs/\" + res.id);\n\t    //                 this.router.navigate(['/blogs', res.id]);\n\t    //                 this.reset();\n\t    //             }, 2000);\n\t    //         },err => {\n\t    //             console.log('Error when saving blog: ', err);\n\t    //             this.toasterService.pop('error', 'Uh oh.', 'Something went wrong when saving this blog.  Sorry.  Try again later and/or alert the developer!');\n\t    //         });\n\t    // } else {\n\t        this.service.update(this.division.id, this.division)\n\t            .subscribe(res => {\n\t                console.log('response from update: ', res);\n\t                this.division = res;\n\t                this.reset();\n\t                this.toaster.pop('success', 'Success!', this.division.name + ' has been saved.');\n\t            }, err => {\n\t                console.log('Error when saving: ', err);\n\t                this.toaster.pop('error', 'Uh oh.', 'Something went wrong when saving this division.  Sorry.  Try again later and/or alert the developer!');\n\t            });\n\t    // }\n\t}\n\n\tprivate reset(e?:Event) {\n\t    if (e) {\n\t        e.preventDefault();\n\t        e.stopPropagation();\n\t    }\n\n\t    this.ready = false;\n\n\t    setTimeout(() => { this.ready = true; },0);\n\t}\n}\n"],"sourceRoot":"/source/"}