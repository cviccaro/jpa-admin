{"version":3,"sources":["@login/login.component.ts"],"names":[],"mappings":";;;;;;;;;;AAAA,qBAAgC,eAAe,CAAC,CAAA;AAChD,uBAAqB,iBAAiB,CAAC,CAAA;AACvC,sBAAqB,gBAAgB,CAAC,CAAA;AACtC,kCAAsD,kCAAkC,CAAC,CAAA;AACzF,iCAA6B,kBAAkB,CAAC,CAAA;AAChD,sBAA0B,iBAAiB,CAAC,CAAA;AAU5C;IAOI,wBAAoB,MAAc,EAAU,OAAoB,EAAU,OAAuB;QAA7E,WAAM,GAAN,MAAM,CAAQ;QAAU,YAAO,GAAP,OAAO,CAAa;QAAU,YAAO,GAAP,OAAO,CAAgB;QAHjG,cAAS,GAAG,KAAK,CAAC;QAClB,YAAO,GAAG,KAAK,CAAC;IAEqF,CAAC;IAEtG,iCAAQ,GAAR;QAAA,iBAGC;QAFG,OAAO,CAAC,GAAG,CAAC,6BAA6B,EAAE,IAAI,CAAC,CAAC;QACjD,IAAI,CAAC,OAAO,CAAC,cAAc,CAAC,SAAS,CAAC,UAAA,UAAU,IAAI,OAAA,KAAI,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC,EAAE,CAAC,CAAC,EAA1B,CAA0B,CAAC,CAAC;IACpF,CAAC;IAED,iCAAQ,GAAR;QAAA,iBAMC;QALG,IAAI,CAAC,OAAO,GAAG,IAAI,CAAC;QACpB,IAAI,CAAC,SAAS,GAAG,IAAI,CAAC;QAEtB,IAAI,CAAC,OAAO,CAAC,KAAK,CAAC,IAAI,CAAC,KAAK,EAAE,IAAI,CAAC,QAAQ,CAAC;aACxC,SAAS,CAAC,UAAA,GAAG,IAAI,OAAA,KAAI,CAAC,OAAO,CAAC,GAAG,CAAC,EAAjB,CAAiB,EAAE,UAAA,KAAK,IAAI,OAAA,KAAI,CAAC,IAAI,CAAC,KAAK,CAAC,EAAhB,CAAgB,CAAC,CAAC;IACxE,CAAC;IAED,gCAAO,GAAP,UAAQ,GAAG;QAAX,iBAOC;QANG,OAAO,CAAC,GAAG,CAAC,qCAAqC,EAAE,GAAG,CAAC,CAAC;QAExD,IAAI,CAAC,OAAO,GAAG,KAAK,CAAC;QACrB,IAAI,CAAC,OAAO,CAAC,GAAG,CAAC,SAAS,EAAE,UAAU,EAAE,qBAAqB,CAAC,CAAC;QAE/D,UAAU,CAAC,cAAM,OAAA,KAAI,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC,EAAE,CAAC,CAAC,EAA1B,CAA0B,EAAE,GAAG,CAAC,CAAC;IACtD,CAAC;IAED,6BAAI,GAAJ,UAAK,KAAK;QACN,IAAI,CAAC,OAAO,GAAG,KAAK,CAAC;QACrB,IAAI,CAAC,OAAO,CAAC,GAAG,CAAC,OAAO,EAAE,KAAK,CAAC,KAAK,EAAE,KAAK,CAAC,OAAO,CAAC,CAAC;IAC1D,CAAC;IA1CL;QAAC,gBAAS,CAAC;YACP,QAAQ,EAAE,MAAM,CAAC,EAAE;YACnB,QAAQ,EAAE,WAAW;YACrB,WAAW,EAAE,wBAAwB;YACrC,SAAS,EAAE,CAAC,uBAAuB,CAAC;YACpC,UAAU,EAAE,CAAC,uCAAmB,CAAC;YACjC,SAAS,EAAE,CAAE,cAAM,CAAC;SACvB,CAAC;;sBAAA;IAoCF,qBAAC;AAAD,CAnCA,AAmCC,IAAA;AAnCY,sBAAc,iBAmC1B,CAAA","file":"@login/login.component.js","sourcesContent":["import {Component, OnInit} from '@angular/core';\r\nimport {Router} from '@angular/router';\r\nimport {NgForm} from '@angular/forms';\r\nimport {MATERIAL_DIRECTIVES, MATERIAL_PROVIDERS} from '../shared/libs/angular2-material';\r\nimport {ToasterService} from 'angular2-toaster';\r\nimport {AuthService} from '../shared/index';\r\n\r\n@Component({\r\n    moduleId: module.id,\r\n    selector: 'jpa-login',\r\n    templateUrl: './login.component.html',\r\n    styleUrls: ['./login.component.css'],\r\n    directives: [MATERIAL_DIRECTIVES],\r\n    providers: [ NgForm]\r\n})\r\nexport class LoginComponent implements OnInit {\r\n\r\n    email: string;\r\n    password: string;\r\n    submitted = false;\r\n    working = false;\r\n\r\n    constructor(private router: Router, private service: AuthService, private toaster: ToasterService) { }\r\n\r\n    ngOnInit() {\r\n        console.log('LoginComponent initialized.', this);\r\n        this.service.whenAuthorized.subscribe(authorized => this.router.navigate(['']));\r\n    }\r\n\r\n    onSubmit() {\r\n        this.working = true;\r\n        this.submitted = true;\r\n\r\n        this.service.login(this.email, this.password)\r\n            .subscribe(res => this.success(res), error => this.fail(error));\r\n    }\r\n\r\n    success(res) {\r\n        console.log('Authservice returned successfully: ', res);\r\n\r\n        this.working = false;\r\n        this.toaster.pop('success', 'Success!', 'Logging you in now.');\r\n\r\n        setTimeout(() => this.router.navigate(['']), 500);\r\n    }\r\n\r\n    fail(error) {\r\n        this.working = false;\r\n        this.toaster.pop('error', error.title, error.message);\r\n    }\r\n}\r\n"],"sourceRoot":"/source/"}